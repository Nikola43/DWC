<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<input id="text" title="text" type="text">

</input>

<script type="text/javascript">
    window.onload = function () {
        var input = document.getElementById("text");
        input.onkeyup = soloNumerosRealesEnteros;

        /*
        console.log(validar(".1"));
        console.log(validar("..1"));
        console.log(validar(".-1"));
        console.log(validar(".-"));
        console.log(validar("-1.."));
        console.log(validar("-1.2."));
        console.log(validar("-1.2.-"));
        console.log(validar("-1.2..--1"));
        console.log(validar("-.1"));
        console.log(validar("-.1"));
        console.log(validar("-3."));

        console.log("------");

        console.log(validar("10"));
        console.log(validar("10.5"));
        console.log(validar("-10"));
        console.log(validar("-10.5"));
        */






    };

    function validar(contenido){
        return ((contenido.length > 0) // Comprobamos que tiene contenido
            // Comprobamos si no tiene el simbolo -
            && (!Array.isArray(contenido.match(/-/gi))  ? true : // si no lo tiene devolvemos true
                (contenido.match(/-/gi).length === 1 && contenido.indexOf("-") === 0)) // si lo tiene, comprobamos que tenga solo 1 y que esta en la primera posición

            // Comprobamos si no tiene el simbolo .
            && (!Array.isArray(contenido.match(/\./gi)) ? true : // si no lo tiene devolvemos true
                (contenido.match(/\./gi).length === 1) // si lo tiene, comprobamos solo tenga 1 y le anteceda y preceda un numero
                && (Number.isInteger(parseInt(contenido[contenido.indexOf(".") - 1], 10)))
                && (Number.isInteger(parseInt(contenido[contenido.indexOf(".") + 1], 10)))));
    }


    function soloNumerosRealesEnteros(){
        var contenido = this.value;
        console.log(contenido);
        var resultado = (contenido.length > 0) // Comprobamos que tiene contenido
            // Comprobamos si no tiene el simbolo -
            && (!Array.isArray(contenido.match(/-/gi))  ? true : // si no lo tiene devolvemos true
                (contenido.match(/-/gi).length === 1 && contenido.indexOf("-") === 0)) // si lo tiene, comprobamos que tenga solo 1 y que esta en la primera posición

            // Comprobamos si no tiene el simbolo .
            && (!Array.isArray(contenido.match(/\./gi)) ? true : // si no lo tiene devolvemos true
                (contenido.match(/\./gi).length === 1) // si lo tiene, comprobamos solo tenga 1 y le anteceda numero
                && (Number.isInteger(parseInt(contenido[contenido.indexOf(".") - 1], 10))));

            if (!resultado){
                this.value = this.value.substring(0,this.value.length-1);
            }
            return (resultado);

    }
</script>

</body>
</html>